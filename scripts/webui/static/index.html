<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>학원 사진 자동 분류 — 업로드 → 진행률 → 인물별 원본</title>
    <link rel="stylesheet" href="./style.css" />
    <script defer src="./app.js"></script>
  </head>
  <body>
    <header class="container">
      <h1 class="title">학원 사진 자동 분류</h1>
      <p class="subtitle">업로드 → 진행률 → 인물별 원본 썸네일</p>
    </header>

    <main class="container">
      <!-- 알림/에러 배너 -->
      <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true" style="display:none"></div>

      <!-- 업로드 카드 -->
      <section class="card" aria-label="사진 업로드">
        <div id="dropzone" class="dropzone" tabindex="0" aria-label="여기에 파일을 드래그하거나 클릭하여 선택">
          <div class="dz-icon" aria-hidden="true">📁</div>
          <div class="dz-text">
            사진을 드래그 앤 드롭하거나, 아래 버튼으로 선택하세요.
          </div>
          <input id="fileInput" type="file" accept="image/*" multiple aria-label="사진 파일 선택" />
        </div>
        <div class="actions">
          <button id="chooseBtn" class="btn" type="button">파일 선택</button>
          <button id="uploadBtn" class="btn primary" type="button">업로드 시작</button>
          <span id="fileCount" class="muted" aria-live="polite"></span>
        </div>
        <div class="options">
          <label class="chk"><input id="optLink" type="checkbox" /> 링크로 정리(저장 공간 절약)</label>
          <details>
            <summary>고급 설정</summary>
            <label>업로드 청크 크기(MB) <input id="optChunk" type="number" min="0.25" step="0.25" value="1" /></label>
          </details>
        </div>
      </section>

      <!-- 진행률 -->
      <section class="card" aria-label="진행 현황">
        <div class="progress-head">
          <span id="phaseLabel">대기</span>
          <span id="percentLabel">0%</span>
        </div>
        <div class="progress">
          <div id="progressBar" class="progress-bar" style="width: 0%"></div>
        </div>
        <div class="progress-sub" id="countsLabel" aria-live="polite"></div>
      </section>

      <!-- 결과 렌더 영역 -->
      <section id="result" class="result" aria-label="처리 결과" hidden>
        <h2 class="section-title">인물별 사진</h2>
        <div id="clusters" class="clusters" role="region" aria-live="polite"></div>

        <h3 class="section-title">분리되지 않은 사진</h3>
        <div id="unassigned" class="grid" role="region" aria-live="polite"></div>
      </section>
    </main>

    <footer class="container footer">
      <small>Top‑3/얼굴크롭 UI 제거됨. 원본 중심 미분류 포함 UI.</small>
    </footer>
  </body>
  </html>
